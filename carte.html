<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>La Solina — Nos Distributeurs</title>
<meta name="description" content="Trouvez nos distributeurs à Tarbes, Séméac et Orleix. Itinéraire en un clic." />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Antonio:wght@400;700;900&family=Open+Sans:wght@400;700&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
<meta name="robots" content="index,follow">
<link rel="canonical" href="https://lasolinapizza.fr/carte.html">
  <!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<style>
:root{--c-deep:#122432;--c-hero:#d1f3ff;--white:#fff;--accent:#0e2e42;--radius:16px;--container:1200px;--h2:clamp(28px,4.2vw,72px)}
*{box-sizing:border-box}
body{margin:0;background:var(--c-deep);color:var(--white);font-family:'Open Sans',system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif}
img{max-width:100%;display:block}
.container{max-width:var(--container);margin:0 auto;padding:0 24px}
/* Header : toujours sombre ici */
.site-header{position:fixed;inset:0 0 auto 0;height:72px;display:flex;align-items:center;z-index:1000;background:var(--c-deep);box-shadow:0 10px 30px rgba(0,0,0,.15)}
.brand{display:flex;align-items:center;gap:12px}
.brand img{height:36px}
nav{margin-left:auto;display:flex;gap:20px;align-items:center}
nav a{color:#fff;text-decoration:none;font-weight:800;letter-spacing:.02em;opacity:.92;transition:.2s ease}
nav a:focus,nav a:active{outline:none;text-decoration:none}
nav a.active{opacity:1;text-decoration:none;border-bottom:none}
nav a:hover{opacity:1}
nav .active{opacity:1}
/* Logo clair/sombre */
.brand-home{display:flex;align-items:center;gap:12px}
.brand-home img{height:36px;display:block}

/* Page head */
.page-head{padding:120px 0 24px}
.page-head h1{font-family:'Antonio',system-ui,sans-serif;font-weight:900;margin:0;color:#e3f3ff;font-size:clamp(32px,5vw,72px);letter-spacing:.02em}
.lead{opacity:.9;margin-top:8px}
/* Map */
.map-wrap{padding:18px 0 36px}
#map{height:62vh;border-radius:12px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.25)}
.map-legend{margin-top:14px;display:flex;gap:12px;flex-wrap:wrap;align-items:center}
.badge{background:#0e2e42;color:#fff;padding:10px 14px;border-radius:999px;font-weight:800;display:inline-flex;align-items:center;gap:8px}
.route-bar{display:grid;place-items:center;margin:28px 0 10px}
.btn{display:inline-flex;align-items:center;gap:10px;background:#0e2e42;color:#fff;border:2px solid #000;border-radius:999px;padding:14px 22px;font-weight:800;text-decoration:none;box-shadow:0 6px 0 rgba(0,0,0,.25)}
.btn[disabled]{opacity:.6;pointer-events:none}
/* Contact section reprise */
#contact{background:transparent;color:#fff;padding:90px 0}
.contact-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:24px;align-items:center}
.contact-grid h2{grid-column:1/-1;text-align:center;margin:0 0 12px 0;font-family:'Antonio',system-ui,sans-serif;font-size:var(--h2);color:#e3f3ff}
.contact-bar{display:grid;grid-template-columns:1fr;gap:12px;margin:10px 0 30px;justify-items:center}
.contact-bar a{color:#fff;text-decoration:none;font-family:'Antonio',system-ui,sans-serif;font-weight:800;font-size:clamp(16px,2vw,20px);text-align:center;display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:14px 22px;border-radius:16px;background:rgba(255,255,255,.10);border:1px solid rgba(227,243,255,.22);box-shadow:0 12px 26px rgba(0,0,0,.22);min-width:min(360px,100%);transition:transform .16s ease,box-shadow .16s ease,background .16s ease,border-color .16s ease}
.contact-bar a:hover{transform:translateY(-2px);background:rgba(255,255,255,.14);border-color:rgba(227,243,255,.35);box-shadow:0 16px 34px rgba(0,0,0,.28)}
.contact-bar a:active{transform:translateY(1px);box-shadow:0 10px 22px rgba(0,0,0,.22)}
.contact-bar a:focus-visible{outline:3px solid rgba(221,178,63,.70);outline-offset:3px}
.brand-center{display:grid;place-items:center}
.socials{display:flex;gap:12px;justify-content:flex-end}
.socials a{width:44px;height:44px;border-radius:10px;background:transparent;display:grid;place-items:center;color:#fff;text-decoration:none;font-weight:900;border:none}
.socials img{width:28px;height:28px;display:block}
.footer-small{margin-top:36px;text-align:center;opacity:.9}
.footer-small a{color:#fff}
@media (max-width:900px){.contact-grid{grid-template-columns:1fr}.socials{justify-content:center}}
/* --- Mobile burger nav --- */
body{overflow-x:hidden}
.nav-toggle{display:none;position:absolute;right:16px;left:auto;top:16px;z-index:1100;width:42px;height:42px;border-radius:12px;border:2px solid #000;background:#0e2e42;color:#fff;box-shadow:0 6px 0 rgba(0,0,0,.25);}
.nav-toggle span,.nav-toggle span::before,.nav-toggle span::after{content:"";display:block;width:22px;height:2px;background:#fff;margin:0 auto;position:relative;transition:.25s ease}
.nav-toggle span{top:0}
.nav-toggle span::before{position:absolute;top:-6px}
.nav-toggle span::after{position:absolute;top:6px}

@media (max-width: 820px){
  .brand{justify-content:center;position:relative;width:100%}
  .brand-home img{height:30px}
  .nav-toggle{display:block}
  nav{position:fixed;left:0;right:0;top:72px;background:var(--c-deep);padding:10px 0;display:block;transform:translateY(-120%);transition:transform .35s ease;box-shadow:0 16px 40px rgba(0,0,0,.35)}
  nav a{display:block;padding:16px 24px;font-size:20px;border-top:1px solid rgba(255,255,255,.08)}
  .site-header.open nav{transform:translateY(0)}
}
/* --- Overlay/stacking fixes so the mobile menu sits above the map & its controls --- */
@media (max-width: 820px){
  /* ensure the slide-down menu is above Leaflet controls */
  nav{ z-index:2001; }
  /* dim the page under the menu and intercept taps */
  .site-header.open::after{
    content:"";position:fixed;inset:72px 0 0 0;z-index:1900;
    background:rgba(2,8,12,.6);backdrop-filter:blur(2px);
  }
}
</style>
</head>
<body>
<header class="site-header">
  <div class="container brand">
    <!-- même duo de logos, mais ici on laisse le "dark" affiché par défaut pour fond sombre -->
    <a href="./#hero" class="brand-home" aria-label="Accueil">
      <img src="images/logo-dark.jpeg" alt="La Solina" />
    </a>
    <button class="nav-toggle" aria-label="Menu" aria-expanded="false"><span></span></button>
    <nav>
      <a href="./#hero">Accueil</a>
      <a href="./#s1">Les pizzas</a>
      <a href="./#carte">Carte</a>
      <a href="./#faq">Questions</a>
      <a href="./#contact">Contact</a>
      <a class="active" href="carte.html" aria-current="page">Nos Distributeurs</a>
    </nav>
  </div>
</header>

<main class="container">
  <div class="page-head">
    <h1>Nos Distributeurs</h1>
    <p class="lead">Retrouvez nos points de vente sur la carte. De nouveaux emplacements arrivent.</p>
  </div>

  <section class="map-wrap">
    <div id="map" role="region" aria-label="Carte des distributeurs"></div>
    <div class="map-legend">
      <span class="badge">• Tarbes — 15bis Bd du Général de Lattre de Tassigny, 65000</span>
      <span class="badge">• Séméac — 111 Av. des Sports, 65600</span>
      <span class="badge">• Orleix — 11 Route de Rabastens, 65800</span>
    </div>
    <div class="route-bar">
      <a id="routeBtn" class="btn" href="#" target="_blank" rel="noopener" disabled>Itinéraire ➜</a>
    </div>
  </section>
</main>

<!-- Section Contact (identique à la page principale) -->
<section id="contact">
  <div class="container contact-grid">
    <h2>NOUS CONTACTER</h2>
    <div class="contact-bar">
      <a href="https://www.instagram.com/lasolina_pizzas/" id="more-distrib" target="_blank" rel="noopener">Découvrir La Solina</a>
      <a href="tel:+33562517017">Prendre contact</a>
    </div>
    <div class="brand-center">
      <img src="images/logo-dark.jpeg" alt="La Solina" style="max-width:260px;opacity:.95" />
    </div>
    <div class="socials">
      <a aria-label="Instagram" href="https://www.instagram.com/lasolina_pizzas/" target="_blank" rel="noopener"><img src="images/IG.png" alt="Instagram" /></a>
      <a aria-label="Facebook" href="https://www.facebook.com/lasolina.pizzas/" target="_blank" rel="noopener"><img src="images/FB.png" alt="Facebook" /></a>
    </div>
    <div class="footer-small" style="grid-column:1/-1">
      <a href="mentions.html" target="_blank" rel="noopener">mentions</a> — <a href="#" target="_blank" rel="noopener">CGU</a><br/>
      <a href="https://cazacomm.fr" target="_blank" rel="noopener">2025 Caza Comm</a>
    </div>
  </div>
</section>

<script>
// --- Leaflet map avec géocodage Nominatim pour placer précisément les 3 adresses
const map = L.map('map', { scrollWheelZoom:false });
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom: 19, attribution: '&copy; OpenStreetMap'}).addTo(map);

const addresses = [
  { name: 'Tarbes — 15bis Bd du Général de Lattre de Tassigny', address: '15bis Bd du Général de Lattre de Tassigny, 65000 Tarbes' },
  { name: 'Séméac — 111 Avenue des Sports', address: '111 Avenue des Sports, 65600 Séméac' },
  { name: 'Orleix — 11 Route de Rabastens', address: '11 Route de Rabastens, 65800 Orleix' }
];

const routeBtn = document.getElementById('routeBtn');
let selected = null;
const markers = [];

function geocode(q){
  const url = `https://nominatim.openstreetmap.org/search?format=json&limit=1&accept-language=fr&q=${encodeURIComponent(q)}`;
  return fetch(url, {headers:{'Accept':'application/json'}}).then(r=>r.json());
}

Promise.all(addresses.map(a=>geocode(a.address))).then(results => {
  const bounds = L.latLngBounds();
  results.forEach((res, i) => {
    if(!res || !res[0]) return;
    const lat = parseFloat(res[0].lat), lon = parseFloat(res[0].lon);
    const a = addresses[i];
    const m = L.marker([lat, lon]).addTo(map);
    m.bindPopup(`<strong>${a.name}</strong><br>${a.address}<br><small>Cliquez pour définir l'itinéraire</small>`);
    m.on('click', () => {
      selected = {lat, lon, label:a.name};
      const url = `https://www.google.com/maps/dir/?api=1&destination=${lat},${lon}&travelmode=driving`;
      routeBtn.href = url;
      routeBtn.removeAttribute('disabled');
    });
    markers.push(m);
    bounds.extend([lat, lon]);
  });
  if(!bounds.isValid()){
    map.setView([43.232, 0.073], 12); // fallback Tarbes centre
  } else {
    map.fitBounds(bounds.pad(0.2));
    // Pré-sélectionner le premier point pour activer le bouton
    const first = results[0];
    if(first){
      const lat = parseFloat(first[0].lat), lon = parseFloat(first[0].lon);
      selected = {lat, lon};
      routeBtn.href = `https://www.google.com/maps/dir/?api=1&destination=${lat},${lon}&travelmode=driving`;
      routeBtn.removeAttribute('disabled');
    }
  }
});

// au cas où aucun point n'est prêt
routeBtn.addEventListener('click', e => { if(!routeBtn.href || routeBtn.hasAttribute('disabled')) e.preventDefault(); });

// Lien d'info (YouTube) laissé vide pour que tu mettes l'URL plus tard
const more = document.getElementById('more-distrib');
more.addEventListener('click', (e)=>{ if(more.getAttribute('href')==='#') e.preventDefault(); });
</script>
<script>// Burger mobile (indépendant de Leaflet)
(function(){
  const headerEl = document.querySelector('.site-header');
  const toggleBtn = document.querySelector('.nav-toggle');
  if (!toggleBtn) return;
  toggleBtn.addEventListener('click', ()=>{
    const open = headerEl.classList.toggle('open');
    toggleBtn.setAttribute('aria-expanded', String(open));
  });
  // Ferme au clic sur un lien
  document.querySelectorAll('nav a').forEach(a=>a.addEventListener('click', ()=>{
    headerEl.classList.remove('open');
    toggleBtn.setAttribute('aria-expanded','false');
  }));
  // Ferme si clic hors du header/nav
  document.addEventListener('click', (e)=>{
    if(headerEl.classList.contains('open') && !headerEl.contains(e.target)){
      headerEl.classList.remove('open');
      toggleBtn.setAttribute('aria-expanded','false');
    }
  });
})();</script>
</body>
</html>
